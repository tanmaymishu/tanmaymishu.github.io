<!DOCTYPE html><html><head><meta charSet="utf-8"/><title></title><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="Laravel has recently switched from Laravel Mix to Vite. All the projects in the ecosystem will be using Vite from now on. In this article I will discuss how to configure Vite with Inertia, React, TypeScript in a Laravel Project."/><meta property="og:title" content="How to configure Vite with Inertia, React, and TypeScript in a Laravel Project"/><meta property="og:description" content="Laravel has recently switched from Laravel Mix to Vite. All the projects in the ecosystem will be using Vite from now on. In this article I will discuss how to configure Vite with Inertia, React, TypeScript in a Laravel Project."/><meta property="og:type" content="website"/><meta property="og:url" content="/articles/2022-07/configure-vite-in-a-laravel-project"/><meta property="og:image"/><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/a5a06b3fd9059a93.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a5a06b3fd9059a93.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-a65f6e29240dc9d9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-85d7488a393e293e.js" defer=""></script><script src="/_next/static/chunks/533-d4c8b044579357f0.js" defer=""></script><script src="/_next/static/chunks/692-c1952e33fe46415d.js" defer=""></script><script src="/_next/static/chunks/pages/articles/2022-07/configure-vite-in-a-laravel-project-d54acb668b163e58.js" defer=""></script><script src="/_next/static/vT1-t_UizT85f4h9K0vBD/_buildManifest.js" defer=""></script><script src="/_next/static/vT1-t_UizT85f4h9K0vBD/_ssgManifest.js" defer=""></script><script src="/_next/static/vT1-t_UizT85f4h9K0vBD/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><nav class="bg-white shadow"><div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"><div class="relative flex justify-between h-16"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" id="headlessui-disclosure-button-undefined" type="button" aria-expanded="false"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div><div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"><div class="flex-shrink-0 flex items-center"><a href="/"><h1 class="text-2xl text-gray-700 font-bold">&lt;Tanmay /&gt;</h1></a></div><div class="hidden sm:ml-6 sm:flex sm:space-x-8"><a class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium" href="/">Home</a><a class="border-blue-500 border-b-2 text-gray-900 inline-flex items-center px-1 pt-1 text-sm font-medium" href="/articles">Articles</a><a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Projects</a></div></div></div></div></nav><div class="mt-4 relative w-full px-6 py-12 bg-white shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5 md:max-w-3xl md:mx-auto lg:max-w-4xl lg:pt-16 lg:pb-28"><div class="prose prose-slate mx-auto lg:prose-lg"><section><p class="text-blue-500 text-center hover:underline mt-4"><a href="/articles">← All Articles</a></p><p class="font-bold text-3xl text-center">How to configure Vite with Inertia, React, and TypeScript in a Laravel Project</p><p class="text-center text-gray-500 text-sm">July 23, 2022</p></section><div class="mt-4 leading-10"><p class="">Laravel has recently switched from Laravel Mix to Vite. All the projects in the ecosystem will be using Vite from now on. In this article I will discuss how to configure Vite with Inertia, React, TypeScript in a Laravel Project.</p><section>Create a new Laravel project.<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-shell" style="white-space:pre"><span>composer create-project laravel/laravel laravel-vite-inertia-ts</span></code></pre>Next we have to cd into <em>laravel-vite-inertia-ts</em> directory and add the react and inertia dependencies:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-shell" style="white-space:pre"><span>yarn add react react-dom @inertiajs/inertia @inertiajs/inertia-react</span></code></pre>We also have add the typescript dev dependencies:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-shell" style="white-space:pre"><span>yarn add -D typescript @types/react @types/react-dom</span></code></pre>Next, we need to generate a tsconfig.json file.<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-shell" style="white-space:pre"><span>./node_modules/.bin/tsc --init --jsx react</span></code></pre>Then we need to rename the <em>/resources/js</em> directory to<!-- --> <em>/resources/ts</em> and the <em>app.js</em> file to<!-- --> <em>app.tsx</em>. Then in the <em>app.tsx</em> file we have to create the inertia app like the following:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-typescript" style="white-space:pre"><span>
</span><span>    </span><span style="color:#333;font-weight:bold">import</span><span> </span><span style="color:#d14">&quot;./bootstrap&quot;</span><span>;
</span><span>    </span><span style="color:#333;font-weight:bold">import</span><span> </span><span style="color:#d14">&quot;../css/app.css&quot;</span><span>;
</span><span>    </span><span style="color:#333;font-weight:bold">import</span><span> React </span><span style="color:#333;font-weight:bold">from</span><span> </span><span style="color:#d14">&quot;react&quot;</span><span>;
</span><span>    </span><span style="color:#333;font-weight:bold">import</span><span> { createRoot } </span><span style="color:#333;font-weight:bold">from</span><span> </span><span style="color:#d14">&quot;react-dom/client&quot;</span><span>;
</span><span>    </span><span style="color:#333;font-weight:bold">import</span><span> { createInertiaApp } </span><span style="color:#333;font-weight:bold">from</span><span> </span><span style="color:#d14">&quot;@inertiajs/inertia-react&quot;</span><span>;
</span><span>    </span><span style="color:#333;font-weight:bold">import</span><span> { resolvePageComponent } </span><span style="color:#333;font-weight:bold">from</span><span> </span><span style="color:#d14">&quot;laravel-vite-plugin/inertia-helpers&quot;</span><span>;
</span>    
<!-- -->    createInertiaApp({
<span>        </span><span>resolve</span><span>: </span><span class="hljs-function">(</span><span class="hljs-function hljs-params">name</span><span class="hljs-function">) =&gt;</span><span>
</span>            resolvePageComponent(
<span>                </span><span style="color:#d14">`./Pages/</span><span style="color:#333;font-weight:normal">${name}</span><span style="color:#d14">.tsx`</span><span>,
</span><span>                </span><span style="color:#333;font-weight:bold">import</span><span>.meta.glob(</span><span style="color:#d14">&quot;./Pages/**/*.tsx&quot;</span><span>)
</span>            ),
<span>        </span><span class="hljs-function" style="color:#900;font-weight:bold">setup</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">{ el, App, props }</span><span class="hljs-function">)</span><span> {
</span><span>            createRoot(el).render(</span><span class="xml" style="color:#000080;font-weight:normal">&lt;</span><span class="xml" style="color:#000080;font-weight:normal">App</span><span class="xml" style="color:#000080;font-weight:normal"> {</span><span class="xml" style="color:#000080;font-weight:normal">...props</span><span class="xml" style="color:#000080;font-weight:normal">} /&gt;</span><span>);
</span>        },
<!-- -->    });
<!-- -->    </code></pre>We will notice that the <em>app.css</em> file has been imported here. This is the recommended way of using CSS with Inertia and Vite. If there is a TypeScript error saying:<blockquote>The &#x27;import.meta&#x27; meta-property is only allowed when the &#x27;--module&#x27; option is &#x27;es2020&#x27;, &#x27;es2022&#x27;, &#x27;esnext&#x27;, &#x27;system&#x27;, &#x27;node16&#x27;, or &#x27;nodenext&#x27;.ts(1343)</blockquote>...then we need to head over to the <code>tsconfig.json</code> <!-- -->file and change both <code>target</code> and <code>module</code> <!-- -->option to <code>esnext</code> and also uncomment the<!-- --> <code>types</code> property to enable the vite-specific typings. We will also need to set the <code>moduleResoultions</code> <!-- -->property to <code>node</code><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-json" style="white-space:pre"><span>
</span><span>    </span><span style="color:#998;font-style:italic">// tsconfig.json</span><span>
</span>    ...
<span>    </span><span style="color:#d14">&quot;target&quot;</span><span>: </span><span style="color:#d14">&quot;esnext&quot;</span><span>,
</span><span>    </span><span style="color:#d14">&quot;module&quot;</span><span>: </span><span style="color:#d14">&quot;esnext&quot;</span><span>,
</span><span>    </span><span style="color:#d14">&quot;moduleResolution&quot;</span><span>: </span><span style="color:#d14">&quot;node&quot;</span><span>,
</span>    ...
<span>    </span><span style="color:#d14">&quot;types&quot;</span><span>: [</span><span style="color:#d14">&quot;vite/client&quot;</span><span>],
</span>    ...</code></pre>Laravel ships with a vite config (<code>vite.config.js</code>) which is configured for JavaScript. Let&#x27;s tweak that file a bit to fit our needs. Currently the laravel vite plugin points to the<!-- --> <code>app.js</code> file.<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-JavaScript" style="white-space:pre"><span>
</span><span>    </span><span style="color:#998;font-style:italic">// vite.config.js</span><span>
</span>    laravel({
<!-- -->      input: [
<!-- -->          &#x27;resources/css/app.css&#x27;,
<!-- -->          &#x27;resources/js/app.js&#x27;,
<!-- -->      ],
<span>      refresh: </span><span style="color:#008080">true</span><span>,
</span>  }),
<!-- -->                </code></pre>We need to change it to <code>ts/app.tsx</code> file like this:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-JavaScript" style="white-space:pre"><span>
</span>    // vite.config.js
<span>    laravel([</span><span style="color:#990073">&#x27;resources/ts/app.tsx</span><span>&#x27;])
</span>                </code></pre>We will turn our attention to the server side of things now. Let&#x27;s install inertia first:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-shell" style="white-space:pre"><span>composer require inertiajs/inertia-laravel</span></code></pre>Next, we&#x27;ll add this root template <code>app.blade.php</code> to<!-- --> <code>resources/views</code> directory:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-blade" style="white-space:pre"><span>
</span><span>      </span><span style="color:#999;font-weight:bold">&lt;!DOCTYPE </span><span class="hljs-meta-keyword" style="color:#999;font-weight:bold">html</span><span style="color:#999;font-weight:bold">&gt;</span><span>
</span><span>      </span><span style="color:#000080;font-weight:normal">&lt;</span><span style="color:#000080;font-weight:normal">html</span><span style="color:#000080;font-weight:normal">&gt;</span><span>
</span><span>        </span><span style="color:#000080;font-weight:normal">&lt;</span><span style="color:#000080;font-weight:normal">head</span><span style="color:#000080;font-weight:normal">&gt;</span><span>
</span><span>          </span><span style="color:#000080;font-weight:normal">&lt;</span><span style="color:#000080;font-weight:normal">meta</span><span style="color:#000080;font-weight:normal"> </span><span style="color:#000080;font-weight:normal">charset</span><span style="color:#000080;font-weight:normal">=</span><span style="color:#d14;font-weight:normal">&quot;utf-8&quot;</span><span style="color:#000080;font-weight:normal"> /&gt;</span><span>
</span><span>          </span><span style="color:#000080;font-weight:normal">&lt;</span><span style="color:#000080;font-weight:normal">meta</span><span style="color:#000080;font-weight:normal"> </span><span style="color:#000080;font-weight:normal">name</span><span style="color:#000080;font-weight:normal">=</span><span style="color:#d14;font-weight:normal">&quot;viewport&quot;</span><span style="color:#000080;font-weight:normal"> </span><span style="color:#000080;font-weight:normal">content</span><span style="color:#000080;font-weight:normal">=</span><span style="color:#d14;font-weight:normal">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0&quot;</span><span style="color:#000080;font-weight:normal"> /&gt;</span><span>
</span>          @vite(&#x27;resources/ts/app.tsx&#x27;)
<!-- -->          @inertiaHead
<span>        </span><span style="color:#000080;font-weight:normal">&lt;/</span><span style="color:#000080;font-weight:normal">head</span><span style="color:#000080;font-weight:normal">&gt;</span><span>
</span><span>        </span><span style="color:#000080;font-weight:normal">&lt;</span><span style="color:#000080;font-weight:normal">body</span><span style="color:#000080;font-weight:normal">&gt;</span><span>
</span>          @inertia
<span>        </span><span style="color:#000080;font-weight:normal">&lt;/</span><span style="color:#000080;font-weight:normal">body</span><span style="color:#000080;font-weight:normal">&gt;</span><span>
</span><span>      </span><span style="color:#000080;font-weight:normal">&lt;/</span><span style="color:#000080;font-weight:normal">html</span><span style="color:#000080;font-weight:normal">&gt;</span><span>
</span>                </code></pre>Then we will generate the Inertia middleware:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-shell" style="white-space:pre"><span>php artisan inertia:middleware</span></code></pre>And the generated middleware should be added the <em>web</em> <!-- -->middleware group in <code>Kernel.php</code>:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-php" style="white-space:pre"><span>
</span><span>    </span><span style="color:#d14">&#x27;web&#x27;</span><span> =&gt; [
</span><span>        </span><span style="color:#998;font-style:italic">// ...</span><span>
</span>        \App\Http\Middleware\HandleInertiaRequests::class,
<!-- -->    ],
<!-- -->              </code></pre>Time to see it in action. Let&#x27;s create a TSX react component, called <code>Welcome.tsx</code> in the<!-- --> <code>resources/ts/Pages</code> directory:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-tsx" style="white-space:pre"><span>
</span><span>      </span><span style="color:#998;font-style:italic">// resources/ts/Pages/Welcome.tsx</span><span>
</span>
<span>      </span><span style="color:#333;font-weight:bold">import</span><span> React </span><span style="color:#333;font-weight:bold">from</span><span> </span><span style="color:#d14">&quot;react&quot;</span><span>;
</span>
<span>      </span><span style="color:#333;font-weight:bold">interface</span><span> WelcomeProps {}
</span>      
<span>      </span><span style="color:#333;font-weight:bold">const</span><span> Welcome: React.FC&lt;WelcomeProps&gt; = </span><span class="hljs-function">(</span><span class="hljs-function hljs-params">props</span><span class="hljs-function">) =&gt;</span><span> {
</span><span>          </span><span style="color:#333;font-weight:bold">return</span><span> </span><span class="xml" style="color:#000080;font-weight:normal">&lt;&gt;</span><span class="xml">Welcome from TSX</span><span class="xml" style="color:#000080;font-weight:normal">&lt;/&gt;</span><span>;
</span>      };
<span>      </span><span style="color:#333;font-weight:bold">export</span><span> </span><span style="color:#333;font-weight:bold">default</span><span> Welcome;
</span>                </code></pre>Now, let&#x27;s head over to <code>web.php</code> and return the React view instead of Blade view from the <code>/</code> route:<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-php" style="white-space:pre"><span>
</span><span>  </span><span style="color:#998;font-style:italic">// web.php</span><span>
</span>
<span>  </span><span style="color:#999;font-weight:bold">&lt;?php</span><span>
</span>
<span>  </span><span style="color:#333;font-weight:bold">use</span><span> </span><span style="color:#900;font-weight:bold">Illuminate</span><span>\</span><span style="color:#900;font-weight:bold">Support</span><span>\</span><span style="color:#900;font-weight:bold">Facades</span><span>\</span><span style="color:#900;font-weight:bold">Route</span><span>;
</span><span>  </span><span style="color:#333;font-weight:bold">use</span><span> </span><span style="color:#900;font-weight:bold">Inertia</span><span>\</span><span style="color:#900;font-weight:bold">Inertia</span><span>;
</span>
<span>  Route::get(</span><span style="color:#d14">&#x27;/&#x27;</span><span>, </span><span class="hljs-function" style="color:#333;font-weight:bold">function</span><span class="hljs-function"> (</span><span class="hljs-function">) </span><span>{
</span><span>    </span><span style="color:#333;font-weight:bold">return</span><span> Inertia::render(</span><span style="color:#d14">&#x27;Welcome&#x27;</span><span>);
</span>  });
</code></pre>Now we need to make sure we are running<!-- --> <code>php artisan serve</code> and <code>yarn dev</code> in the terminal. If we visit the `http://localhost:8000`, we should now see the text: <strong>Welcome from TSX.</strong> Any changes made to the <code>Welcome.tsx</code> file will now be reflected via vite.</section></div></div><div class="mt-4"><hr/></div></div><div class="mt-4"><hr/><p class="mt-8 my-5 text-center text-base text-gray-400">© <!-- -->2022<!-- --> Tanmay Mishu.</p></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/articles/2022-07/configure-vite-in-a-laravel-project","query":{},"buildId":"vT1-t_UizT85f4h9K0vBD","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>